<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" href="favicon.ico" />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link href="css/sourceselection.css" rel="stylesheet" />
    <link href="css/attributes.css" rel="stylesheet" />
    <link href="css/characterSheet.css" rel="stylesheet" />
    <link href="css/common.css" rel="stylesheet" />
    <link href="css/components.css" rel="stylesheet" />
    <link href="css/dialog.css" rel="stylesheet" />
    <link href="css/skills.css" rel="stylesheet" />
    <link href="css/printableSheet.css" rel="stylesheet" />
    <title><%= TITLE %></title>
    <script type="text/javascript">
      function setHeaderText(text) {
        document.getElementById('header').innerText = text;
      }
    </script>
  </head>
  <body class="page-background" onload="setupGuard();">
    <div style="display: none">
      <script>
        var images = new Array();
        function preload() {
          for (i = 0; i < preload.arguments.length; i++) {
            images[i] = new Image();
            images[i].src = preload.arguments[i];
          }
        }
        preload('img/logo.png', 'img/bg_green.jpg', 'img/bg_yellow.jpg');
      </script>
    </div>
    <div class="content-container-fullscreen">
      <a href="/"><img src="img/logo.png" class="logo-large" /></a>
      <a href="/"><img src="img/logo_small.png" class="logo-small" /></a>
      <div class="page-title" id="header"></div>
    </div>
    <div class="content-container">
      <div class="content">
        <div id="app"></div>
        <br /><br /><br />
      </div>
    </div>
    <div id="footer" class="footer">Version: <%= VERSION %></div>
    <div id="dialog"></div>
    <script>
      function setupGuard() {
        if (window.history && history.pushState) {
          history.pushState(null, null, null);
          addEventListener('popstate', function () {
            var leave = confirm(
              'Do you want to leave this page? This will cause your character to become lost in the pit of Set.'
            );
            if (leave) {
              history.back();
            } else {
              history.pushState(null, null, null);
            }
          });
        }
      }
    </script>
  </body>
</html>
